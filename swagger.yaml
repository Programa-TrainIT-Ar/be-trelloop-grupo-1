# INFO: DATOS GENERALES DE LA API======================================================================
openapi: 3.0.3
info:
  title: Trelloop API - Backend Grupo 1
  description: |
    API REST para la aplicación Trelloop, un clon de Trello desarrollado como parte del programa TrainIT.

    Esta API proporciona endpoints para:
    - **Autenticación**: Registro, login y gestión de tokens JWT
    - **Tableros**: Crear, leer, actualizar y eliminar tableros colaborativos
    - **Tarjetas**: Gestión completa de tarjetas dentro de los tableros
    - **Etiquetas**: Sistema de categorización mediante tags
    - **Usuarios**: Búsqueda y gestión de miembros
    - **Mensajes**: Sistema básico de mensajería (ejemplo/prueba)
    - **Notificaciones**: Sistema de notificaciones en tiempo real.
    - **Listas**: Sistema de organización de tareas dentro de un tablero.
    - **Subtareas**: Tareas puntuales contenidas dentro de cada tarjeta
    - **Comentarios**: Sistema de comentarios entre los miembros de un tablero.

    ## Autenticación
    La API utiliza JWT (JSON Web Tokens) para la autenticación. Los endpoints protegidos requieren
    un token de acceso válido en el header `Authorization: Bearer <token>`.

    ## Códigos de respuesta
    - **200**: Operación exitosa
    - **201**: Recurso creado exitosamente
    - **400**: Datos inválidos o faltantes
    - **401**: Token inválido o expirado
    - **404**: Recurso no encontrado
    - **409**: Conflicto (ej: email ya registrado)
    - **500**: Error interno del servidor
  version: 1.0.0
  contact:
    name: Grupo 1 - Trelloop
    email: diegofigueroanl@gmail.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:5000
    description: Servidor de desarrollo local
  - url: http://localhost:3000
    description: Servidor de producción
# PATHS: ENDPOINTS DE LA API=============================================================================
paths:
  # ============ AUTENTICACIÓN ============
  /auth/login:
    post:
      tags:
        - Autenticación
      summary: Iniciar sesión
      description: |
        Autentica un usuario existente con email y contraseña.
      operationId: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: "usuario@ejemplo.com"
                  description: Correo electrónico del usuario
                password:
                  type: string
                  format: password
                  example: "miContraseña123"
                  description: Contraseña del usuario
            examples:
              ejemplo_login:
                summary: Login de ejemplo
                value:
                  email: "usuario@ejemplo.com"
                  password: "miContraseña123"
      responses:
        "200":
          description: Login exitoso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: "Login exitoso"
                  usuario:
                    $ref: "#/components/schemas/User"
                  access_token:
                    type: string
                    example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                    description: Token JWT para autorizaciones
                  refresh_token:
                    type: string
                    example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                    description: Token para renovar el access_token
                  token_type:
                    type: string
                    example: "Bearer"
                    description: Tipo de token
        "400":
          description: Datos inválidos o faltantes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                datos_faltantes:
                  summary: Campos requeridos faltantes
                  value:
                    error: "Correo o contraseña invalidos"
        "401":
          description: Credenciales incorrectas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                error: "Correo o contraseña incorrectos"
        "404":
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                error: "Usuario no encontrado"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/register:
    post:
      tags:
        - Autenticación
      summary: Registrar nuevo usuario
      description: |
        Crea una nueva cuenta de usuario. El email debe ser único en el sistema.
        La imagen de perfil es opcional y se almacena en Amazon S3.
      operationId: register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - firstName
                - lastName
                - email
                - password
              properties:
                firstName:
                  type: string
                  minLength: 1
                  maxLength: 50
                  example: "Juan"
                  description: Nombre del usuario
                lastName:
                  type: string
                  minLength: 1
                  maxLength: 50
                  example: "Pérez"
                  description: Apellido del usuario
                email:
                  type: string
                  format: email
                  example: "juan.perez@ejemplo.com"
                  description: Correo electrónico único del usuario
                password:
                  type: string
                  minLength: 8
                  example: "miContraseña123"
                  description: Contraseña del usuario (mínimo 8 caracteres)
                profileImage:
                  type: string
                  format: uri
                  nullable: true
                  example: "https://trainit404.s3.amazonaws.com/perfil_123.png"
                  description: URL de la imagen de perfil almacenada en Amazon S3
            examples:
              registro_completo:
                summary: Registro con imagen
                value:
                  firstName: "Juan"
                  lastName: "Pérez"
                  email: "juan.perez@ejemplo.com"
                  password: "miContraseña123"
                  profileImage: "https://trainit404.s3.amazonaws.com/perfil_123.png"
              registro_basico:
                summary: Registro sin imagen
                value:
                  firstName: "María"
                  lastName: "García"
                  email: "maria.garcia@ejemplo.com"
                  password: "miContraseña456"
      responses:
        "201":
          description: Usuario registrado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: "Usuario registrado exitosamente"
                  usuario:
                    $ref: "#/components/schemas/User"
                  access_token:
                    type: string
                    example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                  refresh_token:
                    type: string
                    example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                  token_type:
                    type: string
                    example: "Bearer"
        "400":
          description: Datos inválidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                campos_requeridos:
                  summary: Campos faltantes
                  value:
                    error: "Datos incompletos"
                correo_invalido:
                  summary: Formato de correo inválido
                  value:
                    error: "El formato del correo electrónico es inválido"
        "409":
          description: Conflicto - Email ya registrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              example:
                error: "El correo electrónico ya está registrado"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/refresh:
    post:
      tags:
        - Autenticación
      summary: Renovar token de acceso
      description: |
        Utiliza un refresh token válido para obtener un nuevo access token.
        El refresh token debe enviarse en el header Authorization.
      operationId: refreshToken
      security:
        - BearerAuthRefresh: []
      responses:
        "200":
          description: Token renovado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                    description: Nuevo token de acceso
                  token_type:
                    type: string
                    example: "Bearer"
        "401":
          description: Refresh token inválido o expirado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/me:
    get:
      tags:
        - Autenticación
      summary: Obtener perfil del usuario autenticado
      description: |
        Retorna la información del usuario actualmente autenticado.
        Requiere un token de acceso válido.
      operationId: getUserProfile
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Perfil obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  usuario:
                    $ref: "#/components/schemas/User"
        "401":
          description: Token inválido o faltante
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # ============ TABLEROS ============
  /board/createBoard:
    post:
      tags:
        - Tableros
      summary: Crear nuevo tablero
      description: Crea un nuevo tablero colaborativo. El usuario autenticado se convierte en el propietario.
      operationId: createBoard
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "Proyecto Frontend"
                  description: Nombre del tablero
                description:
                  type: string
                  nullable: true
                  example: "Tablero para gestionar las tareas del frontend"
                  description: Descripción del tablero
                image:
                  type: string
                  nullable: true
                  example: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="
                  description: Imagen en formato base64
                isPublic:
                  type: boolean
                  example: false
                  description: Indica si el tablero es público o privado
                tags:
                  type: array
                  items:
                    type: string
                  example: ["desarrollo", "frontend"]
                  description: Lista de etiquetas asociadas al tablero
      responses:
        "201":
          description: Tablero creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Tablero creado correctamente"
                  board:
                    $ref: "#/components/schemas/Board"
        "400":
          description: Datos inválidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Token inválido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/getMyBoards:
    get:
      tags:
        - Tableros
      summary: Obtener tableros propios
      description: Retorna solo los tableros creados por el usuario autenticado.
      operationId: getMyBoards
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Lista de tableros propios obtenida exitosamente
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Board"
        "401":
          description: Token inválido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/addMember/{board_id}:
    post:
      tags:
        - Tableros
      summary: Agregar miembro a tablero
      description: Agrega un nuevo miembro a un tablero existente.
      operationId: addMemberToBoard
      security:
        - BearerAuth: []
      parameters:
        - name: board_id
          in: path
          required: true
          schema:
            type: integer
          description: ID del tablero
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
              properties:
                userId:
                  type: integer
                  example: 123
                  description: ID del usuario a agregar
      responses:
        "200":
          description: Miembro agregado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Message:
                    type: string
                    example: "Miembro agregado correctamente"
        "400":
          description: Datos inválidos o usuario ya es miembro
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Tablero o usuario no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/getBoard/{board_id}:
    get:
      tags:
        - Tableros
      summary: Obtener tablero por ID
      description: Retorna la información detallada de un tablero específico.
      operationId: getBoardById
      security:
        - BearerAuth: []
      parameters:
        - name: board_id
          in: path
          required: true
          schema:
            type: integer
          description: ID del tablero
      responses:
        "200":
          description: Tablero obtenido exitosamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Board"
        "404":
          description: Tablero no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/favoriteBoard/{board_id}:
    post:
      tags:
        - Tableros
      summary: Marcar tablero como favorito
      description: Agrega un tablero a la lista de favoritos del usuario.
      operationId: favoriteBoard
      security:
        - BearerAuth: []
      parameters:
        - name: board_id
          in: path
          required: true
          schema:
            type: integer
          description: ID del tablero
      responses:
        "200":
          description: Tablero marcado como favorito
          content:
            application/json:
              schema:
                type: object
                properties:
                  Message:
                    type: string
                    example: "Tablero agregado a favoritos"
        "400":
          description: Tablero ya está en favoritos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Tablero no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/getFavoriteBoards:
    get:
      tags:
        - Tableros
      summary: Obtener tableros favoritos
      description: Retorna la lista de tableros marcados como favoritos por el usuario.
      operationId: getFavoriteBoards
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Lista de tableros favoritos obtenida exitosamente
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Board"
        "401":
          description: Token inválido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/removeFavoriteBoard/{board_id}:
    delete:
      tags:
        - Tableros
      summary: Quitar tablero de favoritos
      description: Remueve un tablero de la lista de favoritos del usuario.
      operationId: removeFavoriteBoard
      security:
        - BearerAuth: []
      parameters:
        - name: board_id
          in: path
          required: true
          schema:
            type: integer
          description: ID del tablero
      responses:
        "200":
          description: Tablero removido de favoritos
          content:
            application/json:
              schema:
                type: object
                properties:
                  Message:
                    type: string
                    example: "Tablero eliminado de favoritos"
        "404":
          description: Tablero no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/updateBoard/{board_id}:
    put:
      tags:
        - Tableros
      summary: Actualizar tablero
      description: Actualiza la información de un tablero existente.
      operationId: updateBoard
      security:
        - BearerAuth: []
      parameters:
        - name: board_id
          in: path
          required: true
          schema:
            type: integer
          description: ID del tablero
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Proyecto Frontend Actualizado"
                description:
                  type: string
                  nullable: true
                  example: "Nueva descripción del tablero"
                image:
                  type: string
                  nullable: true
                  description: Imagen en formato base64
                isPublic:
                  type: boolean
                  example: true
                tags:
                  type: array
                  items:
                    type: string
                  example: ["desarrollo", "frontend", "react"]
      responses:
        "200":
          description: Tablero actualizado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Tablero actualizado correctamente"
                  board:
                    $ref: "#/components/schemas/Board"
        "404":
          description: Tablero no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/deleteBoard/{board_id}:
    delete:
      tags:
        - Tableros
      summary: Eliminar tablero
      description: Elimina un tablero permanentemente. Solo el propietario puede eliminarlo.
      operationId: deleteBoard
      security:
        - BearerAuth: []
      parameters:
        - name: board_id
          in: path
          required: true
          schema:
            type: integer
          description: ID del tablero
      responses:
        "200":
          description: Tablero eliminado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Tablero eliminado correctamente"
        "403":
          description: Sin permisos para eliminar el tablero
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Tablero no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/users/search:
    get:
      tags:
        - Tableros
      summary: Buscar usuarios
      description: Busca usuarios por nombre o email para agregarlos a tableros.
      operationId: searchUsers
      security:
        - BearerAuth: []
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
            minLength: 2
          description: Término de búsqueda (mínimo 2 caracteres)
      responses:
        "200":
          description: Búsqueda realizada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  users:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
        "400":
          description: Parámetro de búsqueda inválido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /board/removeMember:
    delete:
      tags:
        - Tableros
      summary: Remover miembro de tablero
      description: Remueve un miembro de un tablero.
      operationId: removeMemberFromBoard
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - boardId
                - userId
              properties:
                boardId:
                  type: integer
                  example: 1
                  description: ID del tablero
                userId:
                  type: integer
                  example: 123
                  description: ID del usuario a remover
      responses:
        "200":
          description: Miembro removido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Miembro eliminado del tablero correctamente"
        "400":
          description: Datos inválidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Tablero o usuario no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # ============ TARJETAS ============
  /card/createCard:
    post:
      tags:
        - Tarjetas
      summary: Crear nueva tarjeta
      description: Crea una nueva tarjeta en un tablero específico.
      operationId: createCard
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - boardId
              properties:
                title:
                  type: string
                  example: "Implementar login"
                  description: Título de la tarjeta
                description:
                  type: string
                  nullable: true
                  example: "Desarrollar la funcionalidad de autenticación"
                  description: Descripción detallada de la tarjeta
                boardId:
                  type: integer
                  example: 1
                  description: ID del tablero donde crear la tarjeta
                responsableId:
                  type: integer
                  nullable: true
                  example: 123
                  description: ID del usuario responsable
                beginDate:
                  type: string
                  format: date-time
                  nullable: true
                  example: "2024-01-15T09:00:00"
                  description: Fecha de inicio
                dueDate:
                  type: string
                  format: date-time
                  nullable: true
                  example: "2024-01-20T17:00:00"
                  description: Fecha de vencimiento
                state:
                  type: string
                  default: TODO
                  example: "TODO"
                  description: Estado de la tarjeta
                priority:
                  type: string
                  nullable: true
                  enum: [Baja, Media, Alta]
                  example: "Media"
                  description: Prioridad de la tarjeta
      responses:
        "201":
          description: Tarjeta creada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Tarjeta creada correctamente"
                  card:
                    $ref: "#/components/schemas/Card"
        "400":
          description: Datos inválidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Tablero no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /card/getCards/{board_id}:
    get:
      tags:
        - Tarjetas
      summary: Obtener tarjetas de un tablero
      description: Retorna todas las tarjetas de un tablero específico.
      operationId: getAllCards
      security:
        - BearerAuth: []
      parameters:
        - name: board_id
          in: path
          required: true
          schema:
            type: integer
          description: ID del tablero
      responses:
        "200":
          description: Lista de tarjetas obtenida exitosamente
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Card"
        "404":
          description: Tablero no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /card/getCard/{card_id}:
    get:
      tags:
        - Tarjetas
      summary: Obtener tarjeta por ID
      description: Retorna la información detallada de una tarjeta específica.
      operationId: getCard
      security:
        - BearerAuth: []
      parameters:
        - name: card_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la tarjeta
      responses:
        "200":
          description: Tarjeta obtenida exitosamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Card"
        "404":
          description: Tarjeta no encontrada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /card/updateCard/{card_id}:
    put:
      tags:
        - Tarjetas
      summary: Actualizar tarjeta
      description: Actualiza la información de una tarjeta existente.
      operationId: updateCard
      security:
        - BearerAuth: []
      parameters:
        - name: card_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la tarjeta
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "Implementar login actualizado"
                description:
                  type: string
                  nullable: true
                  example: "Nueva descripción de la funcionalidad"
                responsableId:
                  type: integer
                  nullable: true
                  example: 456
                beginDate:
                  type: string
                  format: date-time
                  nullable: true
                  example: "2024-01-16T10:00:00"
                dueDate:
                  type: string
                  format: date-time
                  nullable: true
                  example: "2024-01-25T18:00:00"
                state:
                  type: string
                  example: "IN_PROGRESS"
                tags:
                  type: array
                  items:
                    type: string
                  example: ["urgente", "backend"]
                priority:
                  type: string
                  nullable: true
                  enum: [Baja, Media, Alta]
                  example: "Media"
                  description: Prioridad de la tarjeta
      responses:
        "200":
          description: Tarjeta actualizada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Tarjeta actualizada correctamente"
                  card:
                    $ref: "#/components/schemas/Card"
        "404":
          description: Tarjeta no encontrada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /card/deleteCard/{card_id}:
    delete:
      tags:
        - Tarjetas
      summary: Eliminar tarjeta
      description: Elimina una tarjeta permanentemente.
      operationId: deleteCard
      security:
        - BearerAuth: []
      parameters:
        - name: card_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la tarjeta
      responses:
        "200":
          description: Tarjeta eliminada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Tarjeta eliminada correctamente"
        "404":
          description: Tarjeta no encontrada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /card/addMembers/{card_id}:
    post:
      tags:
        - Tarjetas
      summary: Agregar miembro a tarjeta
      description: Agrega un miembro a una tarjeta específica.
      operationId: addMemberToCard
      security:
        - BearerAuth: []
      parameters:
        - name: card_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la tarjeta
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
              properties:
                userId:
                  type: integer
                  example: 123
                  description: ID del usuario a agregar
      responses:
        "200":
          description: Miembro agregado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Message:
                    type: string
                    example: "Miembro agregado correctamente"
        "400":
          description: Usuario ya es miembro o datos inválidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Tarjeta o usuario no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /card/removeMember/{card_id}:
    delete:
      tags:
        - Tarjetas
      summary: Remover miembro de tarjeta
      description: Remueve un miembro de una tarjeta específica.
      operationId: removeMemberFromCard
      security:
        - BearerAuth: []
      parameters:
        - name: card_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la tarjeta
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
              properties:
                userId:
                  type: integer
                  example: 123
                  description: ID del usuario a remover
      responses:
        "200":
          description: Miembro removido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Miembro eliminado correctamente"
        "400":
          description: Usuario no es miembro o datos inválidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Tarjeta o usuario no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /card/getMembers/{card_id}:
    get:
      tags:
        - Tarjetas
      summary: Obtener miembros de tarjeta
      description: Retorna la lista de miembros asignados a una tarjeta.
      operationId: getCardMembers
      security:
        - BearerAuth: []
      parameters:
        - name: card_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la tarjeta
      responses:
        "200":
          description: Lista de miembros obtenida exitosamente
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User"
        "404":
          description: Tarjeta no encontrada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
  /card/move/{card_id}:
    patch:
      tags:
        - Tarjetas
      summary: Mover tarjeta a otra lista
      description: Cambia la lista y el estado de una tarjeta específica dentro de un tablero.
      operationId: moveCard
      security:
        - BearerAuth: []
      parameters:
        - name: card_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la tarjeta a mover
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - toListId
              properties:
                toListId:
                  type: integer
                  example: 2
                  description: ID de la lista destino
      responses:
        "200":
          description: Tarjeta movida exitosamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Card"
        "404":
          description: Tarjeta o lista destino no encontrada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Usuario no autorizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # ============ ETIQUETAS ============
  /tag:
    get:
      tags:
        - Etiquetas
      summary: Obtener todas las etiquetas
      description: Retorna una lista de todas las etiquetas disponibles en el sistema.
      operationId: getAllTags
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Lista de etiquetas obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  total:
                    type: integer
                    example: 5
                  items:
                    type: array
                    items:
                      $ref: "#/components/schemas/Tag"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    post:
      tags:
        - Etiquetas
      summary: Crear nueva etiqueta
      description: Crea una nueva etiqueta en el sistema.
      operationId: createTag
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "urgente"
                  description: Nombre de la etiqueta
      responses:
        "201":
          description: Etiqueta creada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  tag:
                    $ref: "#/components/schemas/Tag"
                  created:
                    type: boolean
                    example: true
        "200":
          description: Etiqueta ya existe
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  tag:
                    $ref: "#/components/schemas/Tag"
                  created:
                    type: boolean
                    example: false
        "400":
          description: Nombre requerido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /tag/getTags:
    get:
      tags:
        - Etiquetas
      summary: Obtener todas las etiquetas (alternativo)
      description: Endpoint alternativo para obtener todas las etiquetas.
      operationId: getTagsAlt
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Lista de etiquetas obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  total:
                    type: integer
                    example: 5
                  items:
                    type: array
                    items:
                      $ref: "#/components/schemas/Tag"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /tag/by-name/{name}:
    get:
      tags:
        - Etiquetas
      summary: Buscar etiqueta por nombre
      description: Busca una etiqueta específica por su nombre.
      operationId: getTagByName
      security:
        - BearerAuth: []
      parameters:
        - name: name
          in: path
          required: true
          schema:
            type: string
          description: Nombre de la etiqueta
      responses:
        "200":
          description: Etiqueta encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  tag:
                    $ref: "#/components/schemas/Tag"
        "404":
          description: Etiqueta no encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: "Etiqueta no encontrada"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /tag/{tag_id}:
    put:
      tags:
        - Etiquetas
      summary: Actualizar etiqueta
      description: Actualiza el nombre de una etiqueta existente.
      operationId: updateTag
      security:
        - BearerAuth: []
      parameters:
        - name: tag_id
          in: path
          required: true
          schema:
            type: integer
          description: ID de la etiqueta
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "muy urgente"
                  description: Nuevo nombre de la etiqueta
      responses:
        "200":
          description: Etiqueta actualizada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  tag:
                    $ref: "#/components/schemas/Tag"
        "400":
          description: Nombre requerido o ya existe
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Etiqueta no encontrada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # ============ NOTIFICACIONES REALTIME ============
/notifications:
  get:
    tags:
      - Notifications (Realtime)
    summary: Obtener notificaciones en tiempo real del usuario
    description: Obtiene notificaciones que aparecen directamente en la aplicación. Permite filtrar solo no leídas y paginar con `limit` y `offset`.
    operationId: getRealtimeNotifications
    security:
      - BearerAuth: []
    parameters:
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 20
        description: Número máximo de notificaciones a retornar
      - name: offset
        in: query
        required: false
        schema:
          type: integer
          default: 0
        description: Offset para paginación
      - name: unread_only
        in: query
        required: false
        schema:
          type: boolean
          default: false
        description: Si es true, solo retorna notificaciones no leídas
    responses:
      "200":
        description: Lista de notificaciones realtime
        content:
          application/json:
            schema:
              type: object
              properties:
                notifications:
                  type: array
                  items:
                    $ref: "#/components/schemas/Notification"
                meta:
                  type: object
                  properties:
                    total_count:
                      type: integer
                    unread_count:
                      type: integer
                    limit:
                      type: integer
                    offset:
                      type: integer
      "500":
        description: Error interno del servidor
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ErrorResponse"

  post:
    tags:
      - Notifications (Realtime)
    summary: Crear notificación realtime
    description: Crea una notificación que aparece directamente en la app. `sendEmailAlso` debe ser false.
    operationId: createRealtimeNotification
    security:
      - BearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CreateNotificationRequest"
            example:
              userId: 123
              type: "TASK_ASSIGNED"
              title: "Nueva tarea asignada"
              message: "Se te ha asignado la tarea 'Preparar reporte mensual'"
              resourceKind: "task"
              resourceId: 456
              actorId: 1
              sendEmailAlso: false
    responses:
      "201":
        description: Notificación creada correctamente
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Notification"
      "400":
        description: Error en la solicitud
      "500":
        description: Error interno del servidor

    # ============ NOTIFICACIONES POR EMAIL ============
/notifications/test-email:
  post:
    tags:
      - Notifications (Email)
    summary: Crear notificación por correo
    description: Crea y envía una notificación al email del usuario. Incluye enlaces a la app según `resourceKind` y `resourceId`.
    operationId: createEmailNotification
    security:
      - BearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CreateNotificationRequest"
            example:
              userId: 123
              type: "TASK_ASSIGNED_EMAIL"
              title: "Nueva tarea asignada"
              message: "Se te ha asignado la tarea 'Preparar reporte mensual'"
              resourceKind: "task"
              resourceId: 456
              actorId: 1
              userEmail: "usuario@correo.com"
              sendEmailAlso: true
    responses:
      "201":
        description: Notificación enviada por email
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: "Email de prueba enviado"
                notification_id:
                  type: string
                  format: uuid
                  example: "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                email_sent_to:
                  type: string
                  example: "usuario@correo.com"
                resource_kind:
                  type: string
                  example: "task"
                resource_id:
                  type: integer
                  example: 456
                generated_url:
                  type: string
                  example: "http://localhost:3000/task/456"
      "400":
        description: Error en la solicitud
      "404":
        description: Usuario no encontrado
      "500":
        description: Error interno del servidor

  # ============ MENSAJES ============
  /message:
    get:
      tags:
        - Mensajes
      summary: Obtener todos los mensajes
      description: |
        Retorna una lista de todos los mensajes en el sistema.
        **Nota**: Este es un endpoint de ejemplo/prueba.
      operationId: getAllMessages
      responses:
        "200":
          description: Lista de mensajes obtenida exitosamente
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Message"
              example:
                - id: 1
                  content: "Este es mi primer mensaje"
                - id: 2
                  content: "Segundo mensaje de prueba"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    post:
      tags:
        - Mensajes
      summary: Crear nuevo mensaje
      description: |
        Crea un nuevo mensaje en el sistema.
        **Nota**: Este es un endpoint de ejemplo/prueba.
      operationId: createMessage
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
                  maxLength: 255
                  example: "Este es mi nuevo mensaje"
                  description: Contenido del mensaje
            example:
              content: "¡Hola! Este es un mensaje de prueba"
      responses:
        "201":
          description: Mensaje creado exitosamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
              example:
                id: 3
                content: "¡Hola! Este es un mensaje de prueba"
        "400":
          description: Datos inválidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

# COMPONENTS/SCHEMAS: MODELOS DE DATOS REUTILIZABLES======================================================
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        Token JWT de acceso.
        Incluir en el header como: `Authorization: Bearer {token}`
    BearerAuthRefresh:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        Token JWT de renovación.
        Incluir en el header como: `Authorization: Bearer {refresh_token}`

  schemas:
    User:
      type: object
      description: Modelo de usuario del sistema
      properties:
        id:
          type: integer
          example: 1
          description: ID único del usuario
        firstName:
          type: string
          example: "Juan"
          description: Nombre del usuario
        lastName:
          type: string
          example: "Pérez"
          description: Apellido del usuario
        email:
          type: string
          format: email
          example: "juan.perez@ejemplo.com"
          description: Correo electrónico único del usuario
        profileImage:
          type: string
          format: uri
          nullable: true
          example: "https://trainit404.s3.amazonaws.com/perfil_123.png"
          description: URL de la imagen de perfil almacenada en Amazon S3
      required:
        - id
        - firstName
        - lastName
        - email

    Board:
      type: object
      description: Modelo de tablero colaborativo
      properties:
        id:
          type: integer
          example: 1
          description: ID único del tablero
        name:
          type: string
          example: "Proyecto Web"
          description: Nombre del tablero
        description:
          type: string
          nullable: true
          example: "Tablero para gestionar el desarrollo del sitio web"
          description: Descripción del tablero
        image:
          type: string
          format: uri
          nullable: true
          example: "https://trainit404.s3.amazonaws.com/board_123.png"
          description: URL de la imagen del tablero
        creationDate:
          type: string
          format: date-time
          example: "2024-01-15T10:30:00Z"
          description: Fecha de creación del tablero
        userId:
          type: integer
          example: 1
          description: ID del usuario propietario del tablero
        members:
          type: array
          items:
            $ref: "#/components/schemas/User"
          description: Lista de miembros del tablero
        tags:
          type: array
          items:
            $ref: "#/components/schemas/Tag"
          description: Lista de etiquetas asociadas al tablero
        isPublic:
          type: boolean
          example: false
          description: Indica si el tablero es público (true) o privado (false)
      required:
        - id
        - name
        - creationDate
        - userId
        - isPublic

    Card:
      type: object
      description: Modelo de tarjeta dentro de un tablero
      properties:
        id:
          type: integer
          example: 1
          description: ID único de la tarjeta
        title:
          type: string
          example: "Implementar autenticación"
          description: Título de la tarjeta
        description:
          type: string
          nullable: true
          example: "Desarrollar sistema de login y registro de usuarios"
          description: Descripción detallada de la tarjeta
        responsableId:
          type: integer
          nullable: true
          example: 123
          description: ID del usuario responsable de la tarjeta
        creationDate:
          type: string
          format: date-time
          example: "2024-01-15T10:30:00Z"
          description: Fecha de creación de la tarjeta
        beginDate:
          type: string
          format: date-time
          nullable: true
          example: "2024-01-16T09:00:00Z"
          description: Fecha de inicio de la tarjeta
        dueDate:
          type: string
          format: date-time
          nullable: true
          example: "2024-01-25T17:00:00Z"
          description: Fecha de vencimiento de la tarjeta
        state:
          type: string
          example: "TODO"
          description: Estado actual de la tarjeta
        boardId:
          type: integer
          example: 1
          description: ID del tablero al que pertenece la tarjeta
        members:
          type: array
          items:
            $ref: "#/components/schemas/User"
          description: Lista de miembros asignados a la tarjeta
        tags:
          type: array
          items:
            $ref: "#/components/schemas/Tag"
          description: Lista de etiquetas asociadas a la tarjeta
      required:
        - id
        - title
        - creationDate
        - state
        - boardId

    Tag:
      type: object
      description: Modelo de etiqueta para categorización
      properties:
        id:
          type: integer
          example: 1
          description: ID único de la etiqueta
        name:
          type: string
          example: "urgente"
          description: Nombre de la etiqueta
      required:
        - id
        - name

    Message:
      type: object
      description: Modelo de mensaje (ejemplo/prueba)
      properties:
        id:
          type: integer
          example: 1
          description: ID único del mensaje
        content:
          type: string
          example: "Este es un mensaje de prueba"
          description: Contenido del mensaje
      required:
        - id
        - content

    ErrorResponse:
      type: object
      description: Formato estándar para respuestas de error
      properties:
        error:
          type: string
          example: "Descripción del error"
          description: Mensaje descriptivo del error
      required:
        - error

    SuccessResponse:
      type: object
      description: Formato estándar para respuestas exitosas simples
      properties:
        mensaje:
          type: string
          example: "Operación realizada exitosamente"
          description: Mensaje de confirmación
      required:
        - mensaje

    AuthResponse:
      type: object
      description: Formato de respuesta para autenticación exitosa
      properties:
        mensaje:
          type: string
          example: "Login exitoso"
          description: Mensaje de confirmación
        usuario:
          $ref: "#/components/schemas/User"
        access_token:
          type: string
          example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
          description: Token JWT para autorización
        refresh_token:
          type: string
          example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
          description: Token para renovar el access_token
        token_type:
          type: string
          example: "Bearer"
          description: Tipo de token
      required:
        - mensaje
        - usuario
        - access_token
        - refresh_token
        - token_type

    Notification:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID único de la notificación
        userId:
          type: integer
          description: ID del usuario receptor
        type:
          type: string
          description: Tipo de notificación
        title:
          type: string
          description: Título de la notificación
        message:
          type: string
          description: Contenido de la notificación
        resource:
          $ref: "#/components/schemas/NotificationResource"
          nullable: true
        actorId:
          type: integer
          nullable: true
          description: ID del actor que generó la notificación
        read:
          type: boolean
          description: Estado de lectura de la notificación
        createdAt:
          type: string
          format: date-time
          description: Fecha de creación de la notificación
        eventId:
          type: string
          nullable: true
          description: ID de evento para asegurar idempotencia
      required:
        - id
        - userId
        - type
        - title
        - message
        - read
        - createdAt

    CreateNotificationRequest:
      type: object
      properties:
        userId:
          type: integer
        type:
          type: string
        title:
          type: string
        message:
          type: string
        resourceKind:
          type: string
          nullable: true
        resourceId:
          type: integer
          nullable: true
        actorId:
          type: integer
          nullable: true
        eventId:
          type: string
          nullable: true
        userEmail:
          type: string
          nullable: true
        sendEmailAlso:
          type: boolean
          default: true
          description: Indica si se debe enviar también por correo. Para notificaciones realtime normalmente false.

      required:
        - userId
        - type
        - title
        - message

    CreateEmailNotificationRequest:
      type: object
      properties:
        userId:
          type: integer
        type:
          type: string
        title:
          type: string
        message:
          type: string
        resourceKind:
          type: string
          nullable: true
        resourceId:
          type: integer
          nullable: true
        actorId:
          type: integer
          nullable: true
        eventId:
          type: string
          nullable: true
        userEmail:
          type: string
          description: Email del usuario receptor
        sendEmailAlso:
          type: boolean
          default: true
          description: Siempre true para notificaciones por correo
      required:
        - userId
        - type
        - title
        - message
        - userEmail
      example:
        userId: 123
        type: "TASK_ASSIGNED"
        title: "Nueva tarea asignada"
        message: "Se te ha asignado la tarea 'Preparar reporte mensual'"
        resourceKind: "task"
        resourceId: 456
        actorId: 1
        userEmail: "usuario@correo.com"
        sendEmailAlso: true

#TAGS: AGRUPACIONES DESCRIPTIVAS DE ENDPOINTS===========================================================
tags:
  - name: Autenticación
    description: |
      Endpoints para registro, login y gestión de tokens JWT.

      ### Flujo de autenticación:
      1. **Registro**: POST /auth/register - Crear nueva cuenta
      2. **Login**: POST /auth/login - Obtener tokens JWT
      3. **Perfil**: GET /auth/me - Obtener información del usuario autenticado
      4. **Renovación**: POST /auth/refresh - Renovar token expirado

      ### Uso de tokens:
      - **Access Token**: Incluir en header `Authorization: Bearer {token}` para endpoints protegidos
      - **Refresh Token**: Usar en endpoint /auth/refresh para obtener nuevo access token

  - name: Tableros
    description: |
      Endpoints para gestión completa de tableros colaborativos.

      ### Funcionalidades principales:
      - Crear, leer, actualizar y eliminar tableros
      - Gestión de miembros (agregar/remover usuarios)
      - Sistema de favoritos
      - Búsqueda de usuarios
      - Control de privacidad (público/privado)
      - Asociación con etiquetas

  - name: Tarjetas
    description: |
      Endpoints para gestión de tarjetas dentro de los tableros.

      ### Características:
      - Crear, leer, actualizar y eliminar tarjetas
      - Asignación de responsables
      - Gestión de miembros por tarjeta
      - Estados: TODO, IN_PROGRESS, DONE
      - Fechas de inicio y vencimiento
      - Asociación con etiquetas

  - name: Etiquetas
    description: |
      Sistema de etiquetas para categorización y organización.

      ### Funcionalidades:
      - Crear y actualizar etiquetas
      - Búsqueda por nombre
      - Listado completo de etiquetas disponibles
      - Asociación con tableros y tarjetas

  - name: Mensajes
    description: |
      Endpoints para gestión de mensajes básicos.
      **Nota**: Estos son endpoints de ejemplo/prueba para validar la funcionalidad básica de la API.

  - name: Notificaciones
    description: |
      Endpoints para la gestión completa de notificaciones de usuarios.

      ### Funcionalidades principales:
      1. **Crear notificación**: POST /notifications - Genera una nueva notificación para un usuario.  
         Soporta envío opcional por email y asegura idempotencia mediante `eventId`.
      2. **Listar notificaciones**: GET /notifications/{userId} - Obtiene todas las notificaciones de un usuario.
      3. **Estado de lectura**: Las notificaciones tienen un campo `read` que indica si fueron leídas.
      4. **Recursos relacionados**: Las notificaciones pueden estar asociadas a un recurso (`board`, `card`, etc.) para redirigir al frontend.

      ### Consideraciones:
      - Para el envío de emails, se usa `userEmail` y `sendEmailAlso` en la creación.
      - Los `eventId` permiten que una misma acción no genere múltiples notificaciones.
      - El frontend puede usar el campo `resource` para generar links a tableros o tarjetas específicas.

externalDocs:
  description: Repositorio del proyecto en GitHub
  url: https://github.com/Programa-TrainIT-Ar/be-trelloop-grupo-1

x-logo:
  url: "https://via.placeholder.com/150x50/007acc/ffffff?text=Trelloop"
  altText: "Trelloop API Logo"
